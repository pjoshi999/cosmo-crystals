(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{439:(e,s,t)=>{Promise.resolve().then(t.bind(t,8550))},5327:(e,s,t)=>{"use strict";t.d(s,{u:()=>i});var a=t(3464),l=t(7383);let i=a.A.create({baseURL:"https://cosmo-crystals-backend-6.onrender.com/api/v1",headers:{"Content-Type":"application/json"}});i.interceptors.request.use(async e=>{let s=l.A.get("accessToken");return s&&(e.headers.Authorization="Bearer ".concat(s)),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,async e=>{var s,t;let a=e.config;if((null===(s=e.response)||void 0===s?void 0:s.status)===401&&(l.A.remove("accessToken"),(null===(t=e.response)||void 0===t?void 0:t.status)===401&&!a._retry)){a._retry=!0;let e=await r();if(e)return a.headers.Authorization="Bearer ".concat(e),i(a)}return Promise.reject(e)});let r=async()=>{try{var e;let s=l.A.get("refreshToken");if(!s)throw Error("No refresh token available");let t=await a.A.post("".concat("https://cosmo-crystals-backend-6.onrender.com/api/v1","/auth/refresh/"),{refreshToken:s}),i=null===(e=t.data)||void 0===e?void 0:e.accessToken;return l.A.set("accessToken",i,{secure:!0}),i}catch(e){return l.A.remove("accessToken"),null}}},8550:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(5155),l=t(2115),i=t(5038),r=t(5327);let n={all:["profile"],lists:()=>[...n.all,"list"]},d=async()=>{let{data:e}=await r.u.get("/profile/");return e};var o=t(1769);let c=()=>(0,o.I)({queryKey:n.lists(),queryFn:()=>d()}),x=e=>{let s=new Date(e),t="undefined"!=typeof navigator?navigator.language:"en-US",a=s.toLocaleString(t,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZoneName:"short"}),l=-s.getTimezoneOffset(),i=Math.abs(Math.floor(l/60)),r=Math.abs(l%60),n="GMT".concat(l>=0?"+":"-").concat(i.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"));return a.replace(/\s(AM|PM)/,(e,s)=>" ".concat(s.toLowerCase()," ").concat(n))};function m(){var e;let{data:s,isLoading:t}=c(),r={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6}}},n={hidden:{y:30,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}},d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},[o,m]=(0,l.useState)("overview"),[u,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{h(!0)},[]);let v=e=>{switch(e){case"DELIVERED":return"bg-green-100 text-green-800";case"PROCESSING":return"bg-blue-100 text-blue-800";case"SHIPPED":return"bg-purple-100 text-purple-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"CANCELLED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return t?"":(0,a.jsxs)("div",{className:"bg-[#F7F3F4] min-h-screen",children:[(0,a.jsx)(i.P.section,{initial:"hidden",animate:u?"visible":"hidden",variants:r,className:"bg-[#B73B45] text-white py-12",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-6",children:[(0,a.jsxs)(i.P.div,{variants:n,className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-[#F0E6E8] flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-[#B73B45] text-2xl font-bold",children:null==s?void 0:s.name.charAt(0)})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:null==s?void 0:s.name}),(0,a.jsx)("p",{className:"text-white/80 break-words",children:null==s?void 0:s.email})]})]}),(0,a.jsxs)(i.P.div,{variants:d,className:"mt-8 flex space-x-1",children:[(0,a.jsx)(i.P.button,{variants:n,whileHover:{y:-3},onClick:()=>m("overview"),className:"px-4 py-2 rounded-t-lg font-medium transition-colors ".concat("overview"===o?"bg-white text-[#B73B45]":"text-white hover:bg-white/10"),children:"Overview"}),(0,a.jsx)(i.P.button,{variants:n,whileHover:{y:-3},onClick:()=>m("orders"),className:"px-4 py-2 rounded-t-lg font-medium transition-colors ".concat("orders"===o?"bg-white text-[#B73B45]":"text-white hover:bg-white/10"),children:"Orders"})]})]})}),(0,a.jsxs)(i.P.section,{initial:"hidden",animate:u?"visible":"hidden",variants:r,className:"max-w-7xl mx-auto px-6 py-8",children:["overview"===o&&(0,a.jsxs)(i.P.div,{variants:d,initial:"hidden",animate:"visible",className:"space-y-8",children:[(0,a.jsxs)(i.P.div,{variants:n,className:"bg-white rounded-xl shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Account Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Name"}),(0,a.jsx)("p",{className:"text-gray-800",children:null==s?void 0:s.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,a.jsx)("p",{className:"text-gray-800 break-words",children:null==s?void 0:s.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Member Since"}),(0,a.jsx)("p",{className:"text-gray-800",children:x(null==s?void 0:s.createdAt)})]})]})]}),(0,a.jsxs)(i.P.div,{variants:n,className:"bg-white rounded-xl shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Recent Orders"}),(null==s?void 0:s.orders.length)>0?(0,a.jsx)("div",{className:"space-y-4",children:null==s?void 0:null===(e=s.orders)||void 0===e?void 0:e.slice(0,2).map(e=>{var s,t,l,i;return(0,a.jsxs)("div",{className:"border border-gray-100 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium",children:["Order #",null==e?void 0:null===(s=e.id)||void 0===s?void 0:s.substring(4)]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:x(null==e?void 0:e.createdAt)})]}),(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(v(null==e?void 0:e.status)),children:null==e?void 0:e.status})]}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[null==e?void 0:null===(t=e.items)||void 0===t?void 0:t.length," ",(null==e?void 0:null===(l=e.items)||void 0===l?void 0:l.length)===1?"item":"items"," • ₹",null==e?void 0:null===(i=e.totalAmount)||void 0===i?void 0:i.toFixed(2)]})})]},null==e?void 0:e.id)})}):(0,a.jsx)("p",{className:"text-gray-500",children:"No orders yet"}),(null==s?void 0:s.orders.length)>0&&(0,a.jsx)(i.P.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:()=>m("orders"),className:"mt-4 px-4 py-2 text-[#B73B45] font-medium rounded-lg hover:bg-[#F0E6E8] transition-colors",children:"View All Orders"})]})]}),"orders"===o&&(0,a.jsxs)(i.P.div,{variants:d,initial:"hidden",animate:"visible",className:"space-y-6",children:[(0,a.jsx)(i.P.h2,{variants:n,className:"text-2xl font-bold text-gray-900",children:"Your Orders"}),(null==s?void 0:s.orders.length)>0?(0,a.jsx)(i.P.div,{variants:d,className:"space-y-6",children:null==s?void 0:s.orders.map(e=>{var s,t,l;return(0,a.jsxs)(i.P.div,{variants:n,className:"bg-white rounded-xl shadow-md overflow-hidden",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-bold text-lg",children:["Order #",null==e?void 0:null===(s=e.id)||void 0===s?void 0:s.substring(4)]}),(0,a.jsx)("p",{className:"text-gray-500",children:x(null==e?void 0:e.createdAt)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(v(null==e?void 0:e.status)),children:null==e?void 0:e.status}),(0,a.jsxs)("p",{className:"font-bold",children:["₹",null==e?void 0:null===(t=e.totalAmount)||void 0===t?void 0:t.toFixed(2)]})]})]})}),(0,a.jsx)("div",{className:"px-6 py-4 space-y-4",children:null==e?void 0:null===(l=e.items)||void 0===l?void 0:l.map(e=>{var s;return(0,a.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-lg bg-[#F0E6E8] flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-6 h-6 rounded-full bg-[#D6A0A8]"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:null==e?void 0:e.productName}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Qty: ",null==e?void 0:e.quantity]})]})]}),(0,a.jsxs)("p",{className:"font-medium",children:["₹",null==e?void 0:null===(s=e.price)||void 0===s?void 0:s.toFixed(2)]})]},null==e?void 0:e.id)})}),(0,a.jsxs)("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[(0,a.jsx)(i.P.button,{whileHover:{scale:1.03},whileTap:{scale:.98},className:"px-4 py-2 border border-[#B73B45] text-[#B73B45] rounded-lg font-medium hover:bg-[#F0E6E8] transition-colors",children:"Track Order"}),(null==e?void 0:e.status)==="DELIVERED"&&(0,a.jsx)(i.P.button,{whileHover:{scale:1.03},whileTap:{scale:.98},className:"px-4 py-2 bg-[#B73B45] text-white rounded-lg font-medium hover:bg-[#8A2A33] transition-colors",children:"Write Review"})]})]},null==e?void 0:e.id)})}):(0,a.jsxs)(i.P.div,{variants:n,className:"bg-white rounded-xl shadow-md p-8 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-[#F0E6E8] flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-[#D6A0A8]"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No orders yet"}),(0,a.jsx)("p",{className:"text-gray-500 mt-2 mb-8",children:"Start exploring our crystal collection"}),(0,a.jsx)(i.P.a,{href:"/category",whileHover:{scale:1.03},whileTap:{scale:.98},className:"mt-4 px-6 py-2 bg-[#B73B45] text-white rounded-lg font-medium hover:bg-[#8A2A33] transition-colors",children:"Shop Now"})]})]})]}),(0,a.jsx)(i.P.section,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"py-12",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6",children:(0,a.jsxs)("div",{className:"bg-[#F0E6E8] rounded-2xl p-8 md:p-10 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute -top-10 -right-10 w-40 h-40 rounded-full bg-[#D6A0A8] opacity-40"}),(0,a.jsx)("div",{className:"absolute bottom-5 right-20 w-16 h-16 rounded-full bg-[#B73B45] opacity-20"}),(0,a.jsxs)("div",{className:"relative z-10 md:max-w-xl",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-[#B73B45]",children:"Enhance your crystal journey"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2 mb-10",children:"Your crystal collection is carefully curated to balance your energy and enhance your spiritual path."}),(0,a.jsx)(i.P.a,{href:"/category",whileHover:{scale:1.05},whileTap:{scale:.95},className:"mt-6 px-6 py-3 bg-[#B73B45] text-white rounded-full font-medium shadow-md hover:bg-[#8A2A33] transition-colors whitespace-nowrap text-sm lg:text-base",children:"DISCOVER YOUR CRYSTAL"})]})]})})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[122,967,769,38,441,684,358],()=>s(439)),_N_E=e.O()}]);